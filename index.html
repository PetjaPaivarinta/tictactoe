<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="Assets/main.css">
</head>
<h2>Choose your character</h2>
<form id="myForm">
    <input type="radio" id="xType" name="character" value="X" checked>
    <label for="xType">X</label>
    <input type="radio" id="oType" name="character" value="O">
    <label for="oType">O</label>
</form>
<div class="container">
    <div id="firstbox" class="box"></div>
    <div id="secondbox" class="box"></div>
    <div id="thirdbox" class="box"></div>
    <div id="fourthbox" class="box"></div>
    <div id="fifthbox" class="box"></div>
    <div id="sixthbox" class="box"></div>
    <div id="seventhbox" class="box"></div>
    <div id="eighthbox" class="box"></div>
    <div id="ninthbox" class="box"></div>
</div>
<div class="score">
    <h2>Score</h2>
    <p>X: <span id="player1Score">0</span></p>
    <p>O: <span id="player2Score">0</span></p>
</div>
<body>
<script>
    let X = "X";
    let O = "O";
    let turn = 0;
    let boxes = document.getElementsByClassName("box");
    let myForm = document.getElementById("myForm");
    let xType = document.getElementById("xType");
    let oType = document.getElementById("oType");
    let character = "X";
    let player = "Player 1";
    let player1 = [];
    let player2 = [];
    let winner = false;
    let draw = false;
    let player1Score = 0;
    let player2Score = 0;
    let player1ScoreElement = document.getElementById("player1Score");
    let player2ScoreElement = document.getElementById("player2Score");

    function chooseCharacter() {
        if (xType.checked) {
            character = "X";
        } else {
            character = "O";
        }
    }

    function reset() {
        for (let i = 0; i < boxes.length; i++) {
            boxes[i].innerHTML = "";
        }
        turn = 0;
        player1 = [];
        player2 = [];
        winner = false;
        draw = false;
    }

    function checkWinner(player) {
        if (player.includes("firstbox") && player.includes("secondbox") && player.includes("thirdbox")) {
            return true;
        } else if (player.includes("fourthbox") && player.includes("fifthbox") && player.includes("sixthbox")) {
            return true;
        } else if (player.includes("seventhbox") && player.includes("eighthbox") && player.includes("ninthbox")) {
            return true;
        } else if (player.includes("firstbox") && player.includes("fourthbox") && player.includes("seventhbox")) {
            return true;
        } else if (player.includes("secondbox") && player.includes("fifthbox") && player.includes("eighthbox")) {
            return true;
        } else if (player.includes("thirdbox") && player.includes("sixthbox") && player.includes("ninthbox")) {
            return true;
        } else if (player.includes("firstbox") && player.includes("fifthbox") && player.includes("ninthbox")) {
            return true;
        } else if (player.includes("thirdbox") && player.includes("fifthbox") && player.includes("seventhbox")) {
            return true;
        } else {
            return false;
        }
    }

    function checkDraw() {
        return turn === 9;
    }

    function playGame() {
        if (turn % 2 === 0) {
            player = "Player 1";
            character = "X";
            player1.push(this.id);
            this.innerHTML = character;
            winner = checkWinner(player1);
            draw = checkDraw();
            if (winner) {
                alert(player + " won!");
                player1Score++;
                player1ScoreElement.innerHTML = player1Score;
                reset();
            } else if (draw) {
                alert("It's a draw!");
                reset();
            }
        } else {
            player = "Player 2";
            character = "O";
            player2.push(this.id);
            this.innerHTML = character;
            winner = checkWinner(player2);
            draw = checkDraw();
            if (winner) {
                alert(player + " won!");
                player2Score++;
                player2ScoreElement.innerHTML = player2Score;
                reset();
            } else if (draw) {
                alert("It's a draw!");
                reset();
            }
        }
        turn++;
    }

    function addEventListeners() {
        for (let i = 0; i < boxes.length; i++) {
            boxes[i].addEventListener("click", playGame);
        }
    }

    myForm.addEventListener("click", chooseCharacter);
    addEventListeners();



</script>
</body>
</html>